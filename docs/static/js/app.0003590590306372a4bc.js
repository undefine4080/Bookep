webpackJsonp([1],{"6OG1":function(t,e){},B8hM:function(t,e){},Bxts:function(t,e){},DJRu:function(t,e){},DVAC:function(t,e){},"ElM/":function(t,e){},KV85:function(t,e){},KrHN:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o=a("c/Tr"),i=a.n(o),r={indexedDB:window.indexedDB||window.webkitindexedDB||window.msIndexedDB||mozIndexedDB,db:null,dbName:"bookep",dbVersion:1,openDB:function(){var t=this.indexedDB.open(this.dbName,this.dbVersion);t.onerror=function(t){console.log("IndexedDB数据库打开错误",t)};var e=this;t.onsuccess=function(t){e.db=t.target.result},t.onupgradeneeded=function(t){var e=t.target.result;if(e.onerror=function(t){console.log("数据库打开失败")},!e.objectStoreNames.contains("record")){var a=e.createObjectStore("record",{keyPath:"id",autoIncrement:!0});a.createIndex("account","account",{unique:!1}),a.createIndex("time","time",{unique:!1}),a.createIndex("use","use",{unique:!1}),a.createIndex("origin","origin",{unique:!1}),a.createIndex("amount","amount",{unique:!1}),a.createIndex("note","note",{unique:!1}),console.log("对象仓库 record 初始化成功")}}},add:function(t,e){this.db.transaction(t,"readwrite").objectStore(t).add(e)},read:function(t){var e=this.db.transaction(t,"readonly").objectStore(t),a=new Array(0);return e.openCursor().onsuccess=function(t){var e=t.target.result;e&&(a.push(e.value),e.continue())},a}},c={name:"App",beforeCreate:function(){var t=localStorage.getItem("theme");t?i()(document.getElementsByTagName("link")).forEach(function(e){e.dataset.id==t?e.removeAttribute("disabled"):e.setAttribute("disabled",!0)}):localStorage.setItem("theme","white")},mounted:function(){this.$store.commit("initBaseData"),r.openDB()}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page context",attrs:{id:"app"}},[e("transition",{attrs:{name:"pop"}},[e("router-view")],1)],1)},staticRenderFns:[]},l=a("VU/8")(c,s,!1,null,null,null).exports,u=a("/ocq"),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-button wh-col-center"},[e("div",{class:"btn icon-"+this.data.icon,on:{click:this.handle}},[this.data.route?e("router-link",{staticClass:"router-btn",attrs:{to:this.data.route}}):this._e()],1)])},staticRenderFns:[]};var m=a("VU/8")({name:"IconButton",props:["data"],methods:{handle:function(){this.$emit("handle")}}},d,!1,function(t){a("Bxts")},null,null).exports,p={name:"OptionBar",components:{IconButton:m},props:{data:{type:Object},isSetAmount:{type:Boolean,default:!0}},computed:{isCenterIcon:function(){return this.data.center instanceof Object||(this.data.center,!1)},whenTopStyle:function(){return this.isCenterIcon?{left:"",right:""}:{left:"grid-item-left",right:"grid-item-right"}}},methods:{messageTo:function(){this.$emit("confirm")}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"option-bar three-col base-color"},[a("icon-button",{class:t.whenTopStyle.left,attrs:{data:t.data.left}}),t._v(" "),t.isCenterIcon?a("icon-button",{attrs:{data:t.data.center}}):a("div",{staticClass:"page-title font"},[t._v(t._s(t.data.center))]),t._v(" "),a("icon-button",{directives:[{name:"show",rawName:"v-show",value:t.isSetAmount,expression:"isSetAmount"}],class:t.whenTopStyle.right,attrs:{data:t.data.right},on:{handle:t.messageTo}})],1)},staticRenderFns:[]};var v=a("VU/8")(p,h,!1,function(t){a("ww82")},null,null).exports,f={name:"Main",components:{OptionBar:v},data:function(){return{optBarData:{left:{icon:"theme",route:"/theme"},center:"",right:{icon:"setting",route:"/setting"}},forBalance:null}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main page font base-color"},[a("option-bar",{staticClass:"base-color",attrs:{data:t.optBarData}}),t._v(" "),a("div",{staticClass:"view-content wh-col-center"},[a("div",{staticClass:"main-btns outer-shadow radiu gap"},[a("div",{staticClass:"main-btn theme-color point"},[a("router-link",{staticClass:"route-a",attrs:{to:"/record/payment"}},[t._v("支出")])],1),t._v(" "),a("div",{staticClass:"main-btn theme-color point"},[a("router-link",{staticClass:"route-a",attrs:{to:"/record/income"}},[t._v("收入")])],1)]),t._v(" "),a("div",{staticClass:"option-btns outer-shadow radiu gap"},[a("div",{staticClass:"option-btn theme-color point"},[a("router-link",{staticClass:"route-a",attrs:{to:"/balance"}},[t._v("余额")])],1),t._v(" "),a("div",{staticClass:"option-btn theme-color point"},[a("router-link",{staticClass:"route-a",attrs:{to:"/detail/time"}},[t._v("明细")])],1),t._v(" "),a("div",{staticClass:"option-btn theme-color point"},[a("router-link",{staticClass:"route-a",attrs:{to:"/statistic"}},[t._v("统计")])],1)])])],1)},staticRenderFns:[]};var w=a("VU/8")(f,g,!1,function(t){a("e7Cs")},null,null).exports,b=a("Dd8w"),_=a.n(b),x=a("NYxO"),C={name:"Card",props:{title:{type:String}},methods:{openPopBox:function(){this.$emit("handle")}},computed:_()({},Object(x.d)(["curRecordData"]),{cardContent:function(){switch(this.title){case"金额":return this.curRecordData.amount;case"来源":return this.curRecordData.origin;case"用途":return this.curRecordData.use;case"账户":return this.curRecordData.account}}})},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card radiu w-row-center outer-shadow gap",on:{click:t.openPopBox}},[a("div",{staticClass:"card-title theme-color wh-col-center"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"card-btn theme-color wh-row-center"},[t._v(t._s(t.cardContent))])])},staticRenderFns:[]};var D=a("VU/8")(C,B,!1,function(t){a("tNUK")},null,null).exports,y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"note base-color"},[a("div",{staticClass:"note-tip wh-row-center"},[t._v("请输入备注：")]),t._v(" "),a("div",{staticClass:"note-input h-row-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],staticClass:"theme-color inner-shadow",attrs:{id:"note-input",type:"text"},domProps:{value:t.note},on:{input:function(e){e.target.composing||(t.note=e.target.value)}}})])])},staticRenderFns:[]};var k=a("VU/8")({name:"Note",data:function(){return{note:""}},methods:{commitNote:function(){this.$store.commit("syncRecord",{title:"note",data:this.note})}}},y,!1,function(t){a("B8hM")},null,null).exports,P={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"pop-box page",on:{click:this.close}},[this._t("default")],2)},staticRenderFns:[]};var S=a("VU/8")({name:"PopBox",methods:{close:function(){this.$emit("handle")}}},P,!1,function(t){a("erpS")},null,null).exports,I={name:"SelectBox",props:{data:{type:Object}},methods:{commitData:function(t){this.$store.commit("syncRecord",{title:this.data.whichBox,data:t}),this.$store.commit("closeRecordPopBox")}},computed:{selectBoxTitle:function(){return"use"==this.data.whichBox?"用途":"origin"==this.data.whichBox?"来源":"账户"}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-box base-color radiu"},[a("div",{staticClass:"select-title select-bar down-shadow wh-row-center theme-color"},[t._v(t._s(t.selectBoxTitle))]),t._v(" "),a("div",{staticClass:"select-area"},t._l(t.data.dataSource,function(e,n){return a("div",{key:n,staticClass:"select-item wh-row-center base-color point",on:{click:function(a){return a.stopPropagation(),t.commitData(e)}}},[t._v(t._s(e))])}),0),t._v(" "),a("div",{staticClass:"select-btn select-bar up-shadow wh-row-center point theme-color",on:{click:function(e){return t.$store.commit("closePopBox")}}},[t._v("取消")])])},staticRenderFns:[]};var R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"key-board base-color",on:{click:t.silence}},[t._l(t.keyCode,function(e,n){return a("div",{key:n,staticClass:"key wh-row-center font outer-shadow point theme-color",on:{click:function(a){return a.stopPropagation(),t.inputNum(e)}}},[t._v(t._s(e))])}),t._v(" "),a("div",{staticClass:"key wh-row-center font outer-shadow point theme-color",on:{click:function(e){return e.stopPropagation(),t.clearNum(e)}}},[t._v("Clear")]),t._v(" "),a("div",{staticClass:"key wh-row-center font outer-shadow point theme-color",on:{click:function(e){return e.stopPropagation(),t.deleteNum(e)}}},[t._v("Del")]),t._v(" "),a("div",{staticClass:"key wh-row-center font outer-shadow point theme-color",on:{click:function(e){return e.stopPropagation(),t.finishNum(e)}}},[t._v("OK")])],2)},staticRenderFns:[]};var $={name:"Record",components:{OptionBar:v,Card:D,Note:k,PopBox:S,SelectBox:a("VU/8")(I,O,!1,function(t){a("KrHN")},null,null).exports,keyBoard:a("VU/8")({name:"KeyBoard",data:function(){return{keyCode:["1","2","3","4","5","6","7","8","9",".","0","00"],num:[],hasDot:!1}},methods:{inputNum:function(t){var e=this;if(this.num.forEach(function(t){"."==t?e.hasDot=!0:"0"==e.num[0]&&"0"!==e.num[1]&&(e.num=[])}),this.hasDot){if("."==t)return;this.num.push(t),this.$store.commit("syncRecord",{title:"amount",data:this.num.join("")})}else this.num.push(t),this.$store.commit("syncRecord",{title:"amount",data:this.num.join("")})},silence:function(t){t.stopPropagation()},clearNum:function(){this.num=[],this.$store.commit("syncRecord",{title:"amount",data:"0"}),this.hasDot=!1},deleteNum:function(){this.num.pop(),this.$store.commit("syncRecord",{title:"amount",data:this.num.join("")})},finishNum:function(){this.$store.commit("closePopBox")}}},R,!1,function(t){a("DVAC")},null,null).exports},data:function(){return{optBarData:{left:{icon:"back",route:"/main"},center:(t=this.$route.params.id,"payment"==t?"支出":"收入"),right:{icon:"confirm"}},cardData:{amountCard:"金额",originCard:"来源",useCard:"用途",accountCard:"账户"},setAmount:!1};var t},computed:_()({},Object(x.d)(["recordPageData","curRecordData"]),{whichCard:function(){return"payment"==this.$route.params.id}}),methods:{openPopBox:function(t){this.$store.commit("openRecordPopBox",t),"keyboard"==t&&(this.setAmount=!0)},closePopBox:function(){this.$store.commit("closeRecordPopBox")},addRecord:function(){var t=this;this.$refs.noteComp.commitNote();var e=null!==this.curRecordData.use?-parseFloat(t.curRecordData.amount):parseFloat(t.curRecordData.amount),a={account:this.curRecordData.account,time:new Date,use:this.curRecordData.use,origin:this.curRecordData.origin,amount:e,note:this.curRecordData.note};r.add("record",a),this.saveAndBack()},saveAndBack:function(){this.$store.commit("resetRecordView"),this.$router.push("/main"),console.log("添加数据成功")}},beforeMount:function(){"支出"==this.optBarData.center?this.$store.commit("resetRecordView",!0):this.$store.commit("resetRecordView",!1)},beforeCreate:function(){this.$store.commit("initBaseData")}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record page base-color font"},[a("option-bar",{staticClass:"down-shadow",attrs:{data:t.optBarData,isSetAmount:t.setAmount},on:{confirm:t.addRecord}}),t._v(" "),a("div",{staticClass:"view-content wh-col-around"},[a("card",{attrs:{title:t.cardData.amountCard},on:{handle:function(e){return t.openPopBox("keyboard")}}}),t._v(" "),t.whichCard?a("card",{attrs:{title:t.cardData.useCard},on:{handle:function(e){return t.openPopBox("usebox")}}}):a("card",{attrs:{title:t.cardData.originCard},on:{handle:function(e){return t.openPopBox("originbox")}}}),t._v(" "),a("card",{attrs:{title:t.cardData.accountCard},on:{handle:function(e){return t.openPopBox("accountbox")}}}),t._v(" "),a("note",{ref:"noteComp"})],1),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.recordPageData.popBoxOpenFlag?a("pop-box",{class:{"wh-row-center":t.recordPageData.selectBoxFlag.openFlag,"h-row-bottom":t.recordPageData.keyBoardOpenFlag},on:{handle:t.closePopBox}},[t.recordPageData.selectBoxFlag.openFlag?a("select-box",{attrs:{data:t.recordPageData.selectBoxFlag}}):t._e(),t._v(" "),t.recordPageData.keyBoardOpenFlag?a("key-board"):t._e()],1):t._e()],1)],1)},staticRenderFns:[]};var A=a("VU/8")($,F,!1,function(t){a("iPxi")},null,null).exports,T={name:"Balance",components:{OptionBar:v},data:function(){return{optBarData:{left:{icon:"back",route:"/main"},center:"账户余额",right:{}},trick:null}},computed:_()({},Object(x.b)(["getBalanceData"])),beforeMount:function(){this.$store.commit("getGlobalRecordData")}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"balance page font base-color"},[a("option-bar",{staticClass:"down-shadow theme-color",attrs:{data:t.optBarData}}),t._v(" "),a("div",{staticClass:"balance-cards view-content"},t._l(t.getBalanceData,function(e,n){return a("div",{key:n,staticClass:"balance-card outer-shadow radiu theme-color"},[a("div",{staticClass:"balance-card-item wh-row-center"},[t._v(t._s(e.account))]),t._v(" "),a("div",{staticClass:"balance-card-item wh-row-center"},[t._v(t._s(e.volume))])])}),0)],1)},staticRenderFns:[]};var E=a("VU/8")(T,N,!1,function(t){a("grWH")},null,null).exports,V={name:"DetailBar",props:{data:{type:Object}},computed:{time:function(){return this.data.time.toLocaleString().slice(10,20)},date:function(){return this.data.time.toLocaleString().slice(0,9)}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-bar theme-color outer-shadow font"},[a("div",{staticClass:"detail-bar-date mark h-row-center"},[a("span",[t._v(t._s(t.time))]),t._v(" "),a("span",[t._v(t._s(t.date))])]),t._v(" "),a("div",{staticClass:"detail-bar-info"},[a("div",{staticClass:"detail-bar-money"},[t._v(t._s(t.data.amount))]),t._v(" "),a("div",[t._v(t._s(t.data.account))]),t._v(" "),a("div",[t._v(t._s(t.data.use||t.data.origin))])]),t._v(" "),a("div",{staticClass:"detail-bar-note h-row-center"},[a("span",[t._v(t._s(t.data.note||"."))])])])},staticRenderFns:[]};var U=a("VU/8")(V,M,!1,function(t){a("gP9v")},"data-v-01d677ea",null).exports,j={name:"Detail",components:{OptionBar:v,DetailBar:U},data:function(){return{topOptBarData:{left:{icon:"back",route:"/main"},center:"明细",right:{}},bottomOptBarData:{left:{icon:"time",route:"/detail/time"},center:{icon:"account",route:"/detail/account"},right:{icon:"amount",route:"/detail/amount"}}}},beforeCreate:function(){this.$store.commit("initBaseData")},beforeMount:function(){this.$store.commit("getGlobalRecordData")}},J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail page font"},[e("option-bar",{staticClass:"down-shadow",attrs:{data:this.topOptBarData}}),this._v(" "),e("div",{staticClass:"detail-area option-content base-color"},[e("transition",[e("router-view")],1)],1),this._v(" "),e("option-bar",{staticClass:"up-shadow",attrs:{data:this.bottomOptBarData}})],1)},staticRenderFns:[]},q=a("VU/8")(j,J,!1,null,null,null).exports,L=a("mvHQ"),K=a.n(L),H=a("7nRM"),G=a.n(H),Z={name:"Menus",components:{IconButton:m},props:{data:{type:Object}},data:function(){return{isMenuItemsOpen:!1,menuItemsActive:!1}},computed:_()({},Object(x.c)(["closeSettingPopBox","openSettingPopBox"]),{balanceData:function(){return JSON.parse(localStorage.getItem("balance"))}}),methods:{openMenuItems:function(){this.menuItemsActive=!this.menuItemsActive,this.isMenuItemsOpen=!this.isMenuItemsOpen},addItem:function(){console.log("添加项目");var t=G()(this.data.title).slice(0);t.pop(),t.pop();var e=t.join("").toString();this.$store.commit("openSettingPopBox",{type:"input",target:e,flag:this.data.flag})},editItem:function(t){console.log("编辑项目"),this.$store.commit("openSettingPopBox",{type:"input",target:t,flag:this.data.flag})},deleteItem:function(t){console.log("删除项目"),this.$store.commit("openSettingPopBox",{type:"confirm",target:t,flag:this.data.flag})}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu radiu theme-color font outer-shadow"},[a("div",{staticClass:"menu-title h-row-center",class:{"menu-title-open":t.menuItemsActive,mark:t.menuItemsActive},on:{click:t.openMenuItems}},[t._v(t._s(t.data.title))]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isMenuItemsOpen?a("div",{staticClass:"menu-items theme-color"},[t._l(t.data.menuItem,function(e,n){return a("div",{key:n,staticClass:"menu-item three-col point base-color"},[a("div",[t._v(t._s(e.account||e))]),t._v(" "),"M"===t.data.type?a("div",[t._v(t._s(e.volume))]):a("div"),t._v(" "),"M"===t.data.type?a("div",{staticClass:"wh-row-center"},[a("icon-button",{staticClass:"menu-item-btn",attrs:{data:{icon:"edit"}},on:{handle:function(e){return t.editItem(n)}}})],1):a("div",{staticClass:"wh-row-center"},[a("icon-button",{staticClass:"menu-item-btn",attrs:{data:{icon:"delete"}},on:{handle:function(a){return t.deleteItem(e)}}})],1)])}),t._v(" "),"AD"===t.data.type?a("div",{staticClass:"menu-item mark point theme-color wh-row-center"},[a("div",{staticClass:"menu-item-btn w-row-center"},[a("icon-button",{attrs:{data:{icon:"add"}},on:{handle:function(e){return t.addItem()}}})],1)]):t._e()],2):t._e()])],1)},staticRenderFns:[]};var W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm-box theme-color radiu font",on:{click:function(e){return e.stopPropagation(),t.silence(e)}}},[a("div",{staticClass:"confirm-title down-shadow wh-row-center"},[t._v("提示")]),t._v(" "),a("div",{staticClass:"confirm-text wh-row-center"},[t._t("default",[t._v(" 删除\r\n        "),a("span",{staticStyle:{color:"rgb(224, 85, 85)"}},[t._v(t._s(t.data.target))]),t._v("？")])],2),t._v(" "),a("div",{staticClass:"confirm-btns wh-row-center up-shadow gap"},[a("div",{staticClass:"confirm-btn wh-row-center point theme-color",on:{click:t.closeConfirm}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"confirm-btn wh-row-center point theme-color",on:{click:function(e){return t.confirm(t.data)}}},[t._v("确认")])])])},staticRenderFns:[]};var X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-box radiu base-color outer-shadow font",on:{click:t.silence}},[a("div",{staticClass:"input-title down-shadow base-color wh-row-center"},["v"==t.data.flag?a("span",[t._v("输入您定义的额度")]):a("span",[t._v("输入新"+t._s(t.data.target)+"的名称")])]),t._v(" "),a("div",{staticClass:"input-content wh-row-center"},["checkbox"===t.InputType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],staticClass:"setting-input inner-shadow",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.inputText)?t._i(t.inputText,null)>-1:t.inputText},on:{change:function(e){var a=t.inputText,n=e.target,o=!!n.checked;if(Array.isArray(a)){var i=t._i(a,null);n.checked?i<0&&(t.inputText=a.concat([null])):i>-1&&(t.inputText=a.slice(0,i).concat(a.slice(i+1)))}else t.inputText=o}}}):"radio"===t.InputType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],staticClass:"setting-input inner-shadow",attrs:{type:"radio"},domProps:{checked:t._q(t.inputText,null)},on:{change:function(e){t.inputText=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],staticClass:"setting-input inner-shadow",attrs:{type:t.InputType},domProps:{value:t.inputText},on:{input:function(e){e.target.composing||(t.inputText=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"input-btns wh-row-center up-shadow gap"},[a("div",{staticClass:"input-btn wh-row-center point base-color",on:{click:t.closeinput}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"input-btn wh-row-center point base-color",on:{click:function(e){return t.confirm(t.data,t.inputText)}}},[t._v("确认")])])])},staticRenderFns:[]};var Q={name:"Setting",components:{OptionBar:v,Menus:a("VU/8")(Z,z,!1,function(t){a("bEdZ")},null,null).exports,PopBox:S,ConfirmBox:a("VU/8")({name:"ConfirmBox",props:["data"],methods:{confirm:function(t){this.$emit("handle",this.data),this.closeConfirm()},closeConfirm:function(){this.$store.commit("initBaseData"),this.$store.commit("closeSettingPopBox")},silence:function(t){t.stopPropagation()}}},W,!1,function(t){a("DJRu")},null,null).exports,InputBox:a("VU/8")({name:"InputBox",data:function(){return{inputText:""}},props:["data"],methods:{silence:function(t){t.stopPropagation()},closeinput:function(){this.$store.commit("initBaseData"),this.$store.commit("closeSettingPopBox")},confirm:function(t){this.$emit("handle",{data:this.data,value:this.inputText}),this.closeinput()}},computed:{InputType:function(){return"v"==this.data.flag?"number":"text"}}},X,!1,function(t){a("6OG1")},null,null).exports},data:function(){return{optBarData:{left:{icon:"back",route:"/main"},center:"设置",right:{}}}},computed:_()({},Object(x.d)(["account","way","settingPageData","balance"]),{menuData:function(){return{settingAccount:{title:"账户设置",type:"AD",menuItem:this.account,flag:"s"},volumeAccount:{title:"账户额度设置",type:"M",menuItem:this.balance,flag:"v"},useCategories:{title:"支出类别设置",type:"AD",menuItem:this.way.use,flag:"u"},originCategories:{title:"收入类别设置",type:"AD",menuItem:this.way.origin,flag:"o"}}}}),provide:{isMenuItemsOpen:!1},methods:{closePopBox:function(){this.$store.commit("initBaseData"),this.$store.commit("closeSettingPopBox")},deleteAction:function(t,e){var a=void 0,n=void 0;if("use"===t||"origin"===t){a=JSON.parse(localStorage.getItem("way"));for(var o=0;o<a[t].length;o++)a[t][o]===e.target&&(n=o);a[t].splice(n,1),console.log(a),localStorage.setItem("way",K()(a))}else{a=JSON.parse(localStorage.getItem(t));for(var i=0;i<a.length;i++)a[i].account===e.target&&(n=i);a.splice(n,1),localStorage.setItem(t,K()(a)),console.log(a,"删除账户")}},confirmToDelete:function(t){console.log(t),"u"!==t.type?"o"!==t.type?"s"!==t.type||this.deleteAction("balance",t):this.deleteAction("origin",t):this.deleteAction("use",t)},confirmToModify:function(t){var e=t.data.flag;if("v"==e){var a=JSON.parse(localStorage.getItem("balance"));a[t.data.target].volume=parseFloat(t.value),localStorage.setItem("balance",K()(a))}else if("s"==e){var n=JSON.parse(localStorage.getItem("balance")),o={account:t.value,volume:0};n.push(o),localStorage.setItem("balance",K()(n))}else if("o"==e){var i=JSON.parse(localStorage.getItem("way"));i.origin.push(t.value),localStorage.setItem("way",K()(i))}else{if("u"!=e)return;var r=JSON.parse(localStorage.getItem("way"));r.use.push(t.value),localStorage.setItem("way",K()(r))}}}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings page"},[a("option-bar",{staticClass:"down-shadow theme-color",attrs:{data:t.optBarData}}),t._v(" "),a("div",{staticClass:"view-content base-color"},[a("menus",{attrs:{data:t.menuData.settingAccount}}),t._v(" "),a("menus",{attrs:{data:t.menuData.volumeAccount}}),t._v(" "),a("menus",{attrs:{data:t.menuData.useCategories}}),t._v(" "),a("menus",{attrs:{data:t.menuData.originCategories}}),t._v(" "),a("div",{staticClass:"outer-shadow wh-row-center",attrs:{id:"clearData"}},[t._v("清除所有数据")])],1),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.settingPageData.popBoxOpenFlag?a("pop-box",{staticClass:"wh-row-center",on:{handle:t.closePopBox}},[t.settingPageData.confirmBoxOpenFlag?a("confirm-box",{attrs:{data:t.settingPageData.dataForPopBox},on:{handle:t.confirmToDelete}}):t._e(),t._v(" "),t.settingPageData.inputBoxOpenFlag?a("input-box",{attrs:{data:t.settingPageData.dataForPopBox},on:{handle:t.confirmToModify}}):t._e()],1):t._e()],1)],1)},staticRenderFns:[]};var tt=a("VU/8")(Q,Y,!1,function(t){a("jZfD")},null,null).exports,et={xAxis:{type:"category",data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]},at={title:{left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},nt={backgroundColor:"#2c343c",title:{text:"Customized Pie",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:274,name:"联盟广告"},{value:235,name:"视频广告"},{value:400,name:"搜索引擎"}].sort(function(t,e){return t.value-e.value}),roseType:"radius",label:{color:"rgba(255, 255, 255, 0.3)"},labelLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20},itemStyle:{color:"#c23531",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(t){return 200*Math.random()}}]},ot={name:"Statistic",components:{OptionBar:v},data:function(){return{topOptBarData:{left:{icon:"back",route:"/main"},center:"统计",right:{}},chartData:[{el:"line-map",data:et},{el:"pie-map",data:at},{el:"block-map",data:nt}]}},methods:{generateLineMapData:function(){for(var t=0;t<this.globalDB.length;t++)console.log(this.globalDB[t].time.getMonth())},draw:function(t){for(var e=0;e<t.length;e++){this.$echarts.init(document.getElementById(t[e].el)).setOption(t[e].data)}}},computed:_()({},Object(x.d)(["globalDB"])),beforeMount:function(){this.$store.commit("getGlobalRecordData"),this.generateLineMapData()},mounted:function(){this.draw(this.chartData)}},it={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"statistic page font base-color"},[e("option-bar",{staticClass:"down-shadow",attrs:{data:this.topOptBarData}}),this._v(" "),this._m(0),this._v(" "),this._m(1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistic-area option-content"},[a("div",{staticClass:"charts radiu outer-shadow theme-color"},[a("div",{staticClass:"chart-title wh-row-center mark"},[t._v("支出趋势图")]),t._v(" "),a("div",{staticClass:"chart-content wh-row-center",attrs:{id:"line-map"}})]),t._v(" "),a("div",{staticClass:"charts radiu outer-shadow theme-color"},[a("div",{staticClass:"chart-title wh-row-center mark"},[t._v("支出类别图")]),t._v(" "),a("div",{staticClass:"chart-content wh-row-center",attrs:{id:"pie-map"}})]),t._v(" "),a("div",{staticClass:"charts radiu outer-shadow theme-color"},[a("div",{staticClass:"chart-title wh-row-center mark"},[t._v("支出账户图")]),t._v(" "),a("div",{staticClass:"chart-content wh-row-center",attrs:{id:"block-map"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"statistic-btns up-shadow wh-row-center theme-color"},[e("div",{staticClass:"wh-row-center point"},[this._v("支出")]),this._v(" "),e("div",{staticClass:"wh-row-center point"},[this._v("收入")])])}]};var rt=a("VU/8")(ot,it,!1,function(t){a("NzVC")},null,null).exports,ct={name:"Theme",methods:{setTheme:function(t){i()(document.getElementsByTagName("link")).forEach(function(e){e.dataset.id==t?e.removeAttribute("disabled"):e.setAttribute("disabled",!0)}),localStorage.setItem("theme",t),this.$router.push("/main")}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"theme page font wh-col-center h-col-around",on:{click:function(e){return t.$router.push("/main")}}},[a("div",{staticClass:"theme-pick radiu wh-row-center white",on:{click:function(e){return e.stopPropagation(),t.setTheme("white")}}},[t._v("象牙白")]),t._v(" "),a("div",{staticClass:"theme-pick radiu wh-row-center black",on:{click:function(e){return e.stopPropagation(),t.setTheme("black")}}},[t._v("石墨黑")]),t._v(" "),a("div",{staticClass:"theme-pick radiu wh-row-center blue",on:{click:function(e){return e.stopPropagation(),t.setTheme("blue")}}},[t._v("海沫蓝")]),t._v(" "),a("div",{staticClass:"theme-pick radiu wh-row-center pink",on:{click:function(e){return e.stopPropagation(),t.setTheme("pink")}}},[t._v("仙女粉")]),t._v(" "),a("div",{staticClass:"theme-pick radiu wh-row-center yellow",on:{click:function(e){return e.stopPropagation(),t.setTheme("yellow")}}},[t._v("麦芽黄")])])},staticRenderFns:[]};var lt=a("VU/8")(ct,st,!1,function(t){a("ElM/")},null,null).exports,ut={name:"InAccount",data:function(){return{curIndex:0}},components:{DetailBar:U},computed:_()({},Object(x.b)(["inAccountData"]),{curAccountData:function(){return console.log(this.inAccountData[this.curIndex].data),this.inAccountData[this.curIndex].data}}),methods:{setCurAccount:function(t){this.curIndex=t}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"in-account page w-row-center"},[a("div",{staticClass:"inaccount-nav base-color outer-shadow"},t._l(t.inAccountData,function(e,n){return a("div",{key:n,staticClass:"inaccount-nav-item wh-row-center point",on:{click:function(e){return t.setCurAccount(n)}}},[t._v(t._s(e.title))])}),0),t._v(" "),a("div",{staticClass:"inaccount-content"},t._l(t.curAccountData,function(t,e){return a("detail-bar",{key:e,attrs:{data:t}})}),1)])},staticRenderFns:[]};var mt=a("VU/8")(ut,dt,!1,function(t){a("rwf8")},null,null).exports,pt={name:"InSequence",components:{DetailBar:U},computed:_()({detailData:function(){return"/detail/time"==this.$route.path?this.inTimeData:"/detail/amount"==this.$route.path?this.inAmountData:void 0}},Object(x.b)(["inTimeData","inAmountData"]))},ht={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"in-sequence"},this._l(this.detailData,function(t,a){return e("detail-bar",{key:a,attrs:{data:t}})}),1)},staticRenderFns:[]};var vt=a("VU/8")(pt,ht,!1,function(t){a("yUxZ")},null,null).exports;n.a.use(u.a);var ft=new u.a({routes:[{path:"/",component:w},{path:"/main",component:w},{path:"/record/:id",component:A,children:[{path:"payment"},{path:"income"}]},{path:"/balance",component:E},{path:"/detail",component:q,children:[{path:"",component:vt},{path:"time",component:vt},{path:"account",component:mt},{path:"amount",component:vt}]},{path:"/setting",component:tt},{path:"/statistic",component:rt},{path:"/theme",component:lt}]});n.a.use(x.a);var gt=new x.a.Store({state:{way:null,account:null,balance:null,curRecordData:{amount:"0",origin:null,use:null,account:null,note:" ",time:null},recordPageData:{popBoxOpenFlag:!1,selectBoxFlag:{openFlag:!1,dataSource:null,whichBox:""},keyBoardOpenFlag:!1},settingPageData:{popBoxOpenFlag:!1,confirmBoxOpenFlag:!1,inputBoxOpenFlag:!1,dataForPopBox:null},globalDB:null},mutations:{closeRecordPopBox:function(t){var e=t.recordPageData;e.popBoxOpenFlag=!1,e.selectBoxFlag.openFlag=!1,e.keyBoardOpenFlag=!1},openRecordPopBox:function(t,e){var a=t.recordPageData,n=a.selectBoxFlag;a.popBoxOpenFlag=!0,"keyboard"==e?a.keyBoardOpenFlag=!0:(n.openFlag=!0,"usebox"==e?(n.dataSource=t.way.use,n.whichBox="use"):"originbox"==e?(n.dataSource=t.way.origin,n.whichBox="origin"):(n.dataSource=t.account,n.whichBox="account"))},syncRecord:function(t,e){switch(e.title){case"amount":t.curRecordData.amount=e.data;break;case"origin":t.curRecordData.use=null,t.curRecordData.origin=e.data;break;case"use":t.curRecordData.origin=null,t.curRecordData.use=e.data;break;case"account":t.curRecordData.account=e.data;break;case"note":t.curRecordData.note=e.data}},initRecordView:function(t){t.curRecordData={amount:"0",origin:null,use:null,account:null,note:" ",time:null}},resetRecordView:function(t,e){t.curRecordData=1==e?{amount:"0",origin:null,use:t.way.use[0],account:t.account[0],note:" ",time:null}:{amount:"0",origin:t.way.origin[0],use:null,account:t.account[0],note:" ",time:null}},closeSettingPopBox:function(t){var e=t.settingPageData;e.popBoxOpenFlag=!1,e.confirmBoxOpenFlag=!1,e.inputBoxOpenFlag=!1},openSettingPopBox:function(t,e){var a=t.settingPageData;a.popBoxOpenFlag=!0,"input"===e.type?(a.confirmBoxOpenFlag=!1,a.inputBoxOpenFlag=!0,a.dataForPopBox={target:e.target,flag:e.flag}):"confirm"===e.type&&(a.inputBoxOpenFlag=!1,a.confirmBoxOpenFlag=!0,a.dataForPopBox={target:e.target,type:e.flag})},getGlobalRecordData:function(t){t.globalDB=r.read("record"),console.log("读取record数据")},initBaseData:function(t){var e={origin:["工资","兼职","投资理财","红包","奖金","其他"],use:["吃饭","住宿","交通","购物","送礼","旅游","其他"]},a=[{account:"支付宝",volume:0},{account:"微信",volume:0},{account:"现金",volume:0},{account:"工商银行",volume:0},{account:"建设银行",volume:0},{account:"农业银行",volume:0},{account:"中国银行",volume:0},{account:"招商银行",volume:0}],n=[];if(a.forEach(function(t){n.push(t.account)}),localStorage.getItem("way")?t.way=JSON.parse(localStorage.getItem("way")):(localStorage.setItem("way",K()(e)),t.way=e),localStorage.getItem("balance")){t.balance=JSON.parse(localStorage.getItem("balance")),t.account=function(){var e=[];return t.balance.forEach(function(t){e.push(t.account)}),e}()}else localStorage.setItem("balance",K()(a)),t.account=n;console.log("载入基础数据")}},getters:{inTimeData:function(t){return G()(t.globalDB).slice(0).reverse()},inAmountData:function(t){for(var e=G()(t.globalDB).slice(0),a=0;a<e.length-1;a++)for(var n=a+1;n<e.length;n++)if(Math.abs(Number(e[a].amount))<Math.abs(Number(e[n].amount))){var o=e[n];e[n]=e[a],e[a]=o}return e},inAccountData:function(t){for(var e=G()(t.globalDB).slice(0),a=[],n=0;n<t.account.length;n++){for(var o={title:t.account[n],data:[]},i=0;i<e.length;i++)e[i].account===t.account[n]&&o.data.push(e[i]);a.push(o)}return a},getBalanceData:function(t,e){for(var a=G()(e.inAccountData).slice(0),n=JSON.parse(localStorage.getItem("balance")),o=[],i=0;i<a.length;i++){var r={account:a[i].title,volume:0};if(a[i].data.length>1){var c=a[i].data.reduce(function(t,e){return parseFloat(t.amount)+parseFloat(e.amount)});r.volume=n[i].volume+c}else 1==a[i].data.length?r.volume=n[0].volume+a[i].data[0].amount:r.volume=0;o.push(r)}return console.log("获取账户余额数据"),o}}}),wt=(a("KV85"),a("O0Lr"),a("XLwt")),bt=a.n(wt);n.a.prototype.$echarts=bt.a,n.a.config.productionTip=!1,new n.a({el:"#app",router:ft,store:gt,components:{App:l},template:"<App/>"})},NzVC:function(t,e){},O0Lr:function(t,e){},bEdZ:function(t,e){},e7Cs:function(t,e){},erpS:function(t,e){},gP9v:function(t,e){},grWH:function(t,e){},iPxi:function(t,e){},jZfD:function(t,e){},rwf8:function(t,e){},tNUK:function(t,e){},ww82:function(t,e){},yUxZ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0003590590306372a4bc.js.map